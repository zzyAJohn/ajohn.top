import{_ as i,c as a,e,o as h}from"./app-DXjYgPyf.js";const n={};function l(t,s){return h(),a("div",null,[...s[0]||(s[0]=[e(`<blockquote><p>开发人员可以通过适用于 Linux 的 Windows 子系统 (WSL)，直接在 Windows 上使用 Linux 系统的一切</p></blockquote><h2 id="_0-前置配置" tabindex="-1"><a class="header-anchor" href="#_0-前置配置"><span>0.前置配置</span></a></h2><h3 id="_0-1-开启cpu虚拟化" tabindex="-1"><a class="header-anchor" href="#_0-1-开启cpu虚拟化"><span>0.1 开启CPU虚拟化</span></a></h3><p>打开任务管理器，点击CPU</p><p>如果显示 <code>虚拟化：已启用</code> 就是默认开启了，如果显示未启用则需要通过 <code>bios</code> 设置开启</p><p><img src="https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-17/202412170920562.png" alt=""></p><h3 id="_0-2-开启两个windows功能" tabindex="-1"><a class="header-anchor" href="#_0-2-开启两个windows功能"><span>0.2 开启两个windows功能</span></a></h3><p>在任务栏搜索 <code>点击启用或关闭windows功能</code></p><p><img src="https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-17/202412170924010.png" alt=""></p><p>勾选如图所示两个框框</p><p><img src="https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-17/202412170925452.png" alt=""></p><p>配置完可以重启一下电脑</p><h2 id="_1-安装-linux-子系统" tabindex="-1"><a class="header-anchor" href="#_1-安装-linux-子系统"><span>1.安装 linux 子系统</span></a></h2><p>先更新 WSL 内核</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --update</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用以下命令安装 Ubuntu</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Ubuntu</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看当前 linux 子系统列表</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --list</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>设置默认分发版为 Ubuntu（可选）</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --set-default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Ubuntu</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>启动</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-位置迁移-默认在c盘-建议迁移" tabindex="-1"><a class="header-anchor" href="#_2-位置迁移-默认在c盘-建议迁移"><span>2.位置迁移（默认在c盘，建议迁移）</span></a></h2><p>显示目前已安装的子系统</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -l</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在D盘新建wsl文件夹，并输入以下代码将 ubuntu 备份</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --export</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> D:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\w</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">sl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\U</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">buntu.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>删除子系统</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --unregister</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Ubuntu</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>恢复子系统</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --import</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> D:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\w</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">sl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> D:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\w</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">sl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\U</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">buntu.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-16/202412162116458.png" alt=""></p><h2 id="_3-下载-anaconda" tabindex="-1"><a class="header-anchor" href="#_3-下载-anaconda"><span>3.下载 Anaconda</span></a></h2><p>建议下载最新版，我下载 2024.02-1 出现了不知名错误，<a href="https://repo.anaconda.com/archive/" target="_blank" rel="noopener noreferrer">Anaconda地址</a></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://repo.anaconda.com/archive/Anaconda3-2024.10-1-Linux-x86_64.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Anaconda3-2024.10-1-Linux-x86_64.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-下载-cuda11-8" tabindex="-1"><a class="header-anchor" href="#_4-下载-cuda11-8"><span>4.下载 cuda11.8</span></a></h2><p>apt 换源，打开配置文件</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/apt/sources.list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>i进入编辑模式，将原有软件源开头全部用 # 注释掉，然后将以下代码复制进去，然后按esc推出编辑模式，输入:wq保存并退出，</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://mirrors.tuna.tsinghua.edu.cn/ubuntu/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restricted</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://mirrors.tuna.tsinghua.edu.cn/ubuntu/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy-updates</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restricted</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://mirrors.tuna.tsinghua.edu.cn/ubuntu/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy-backports</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restricted</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> multiverse</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://security.ubuntu.com/ubuntu/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy-security</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restricted</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> multiverse</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更新软件包</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装 gcc</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> build-essential</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><a href="https://developer.nvidia.com/cuda-11-8-0-download-archive?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=WSL-Ubuntu&amp;target_version=2.0&amp;target_type=runfile_local" target="_blank" rel="noopener noreferrer">cuda 地址</a></p><p>下载cuda11.8</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://developer.download.nvidia.com/compute/cuda/11.8.0/local_installers/cuda_11.8.0_520.61.05_linux.run</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cuda_11.8.0_520.61.05_linux.run</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>执行上面第二条命令时提示 gcc 不兼容，可以使用 gcc-9</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gcc-9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> g++-9</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>设置为默认 gcc 版本</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update-alternatives</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/bin/gcc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gcc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/bin/gcc-9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 100</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update-alternatives</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/bin/g++</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> g++</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/bin/g++-9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 100</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>检查 gcc 版本是否成功切换</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">gcc</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>编辑环境变量</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.bashrc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>按 <code>i</code> 进入编辑模式，在末尾将以下代码复制进去，然后按<code>esc</code>推出编辑模式，输入<code>:wq</code>保存并退出</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">export</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> LD_LIBRARY_PATH</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$LD_LIBRARY_PATH</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">:/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">usr</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">local</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">cuda-11</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">8</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">lib64</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">export</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> PATH</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$PATH</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">:/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">usr</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">local</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">cuda-11</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">8</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">bin</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">export</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> CUDA_HOME</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$CUDA_HOME</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">:/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">usr</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">local</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">cuda-11</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>刷新环境变量</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">source</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  ~/.bashrc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看cuda是否已经安装成功</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nvcc</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -V</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-16/202412162237115.png" alt=""></p><h2 id="_5-安装-cudnn" tabindex="-1"><a class="header-anchor" href="#_5-安装-cudnn"><span>5.安装 cudnn</span></a></h2><p>在wins下载适合的cudnn版本，我使用的是 <code>Download cuDNN v8.9.7 (December 5th, 2023), for CUDA 11.x</code> 中的 <a href="https://developer.nvidia.com/downloads/compute/cudnn/secure/8.9.7/local_installers/11.x/cudnn-linux-x86_64-8.9.7.29_cuda11-archive.tar.xz/" target="_blank" rel="noopener noreferrer">Local Installer for Linux x86_64 (Tar)</a></p><p>下好后拖到 wsl 系统即可，进入文件所在目录</p><p>解压并复制文件</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tar</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -xvf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cudnn-linux-x86_64-8.9.7.29_cuda11-archive.tar.xz</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cudnn-linux-x86_64-8.9.7.29_cuda11-archive/</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lib/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/local/cuda-11.8/lib64/</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> include/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/local/cuda-11.8/include/</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a+r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/local/cuda-11.8/lib64/libcudnn</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a+r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/local/cuda-11.8/include/cudnn</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>验证是否成功安装</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/local/cuda-11.8/include/cudnn_version.h</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> grep</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> CUDNN_MAJOR</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -A</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-16/202412162256646.png" alt=""></p><h2 id="_6-torch-安装" tabindex="-1"><a class="header-anchor" href="#_6-torch-安装"><span>6.torch 安装</span></a></h2><p>这部分可参考本博客中特定博文创建 conda 虚拟环境</p><h2 id="_7-在-vscode-中连接-wsl" tabindex="-1"><a class="header-anchor" href="#_7-在-vscode-中连接-wsl"><span>7.在 VSCode 中连接 WSL</span></a></h2><p>与在 VSCode 中连接远程服务器的方法相同，点击左下角 <code>打开远程窗口</code>，选择 <code>连接到 WSL</code>即可。</p><p>tips：</p><ol><li><p>最好不要在本地 <code>git clone</code> github 的仓库然后拖到 wsl 中，Windows 和 linux 之间的换行符不同，Git 可能会误判某些文件有修改。</p></li><li><p>如果 VSCode 里面 git clone 出现网络问题，可以在 win 下使用 cmd 进入 wsl 下载，亲测好用</p></li></ol><p>参考链接：<a href="https://blog.csdn.net/imok1234567/article/details/136820228" target="_blank" rel="noopener noreferrer">超详细wsl2安装深度学习环境2024最新版(cuda11.8+torch2.2)</a></p>`,79)])])}const k=i(n,[["render",l]]),r=JSON.parse('{"path":"/article/lo7fbj1s/","title":"使用 wsl2 安装深度学习环境","lang":"zh-CN","frontmatter":{"title":"使用 wsl2 安装深度学习环境","tags":["Deep Learning","WSL"],"createTime":"2024/12/16 20:50:52","permalink":"/article/lo7fbj1s/","cover":"https://img0.baidu.com/it/u=1312246635,1450695287&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500","description":"开发人员可以通过适用于 Linux 的 Windows 子系统 (WSL)，直接在 Windows 上使用 Linux 系统的一切 0.前置配置 0.1 开启CPU虚拟化 打开任务管理器，点击CPU 如果显示 虚拟化：已启用 就是默认开启了，如果显示未启用则需要通过 bios 设置开启 0.2 开启两个windows功能 在任务栏搜索 点击启用或关闭w...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"使用 wsl2 安装深度学习环境\\",\\"image\\":[\\"https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-17/202412170920562.png\\",\\"https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-17/202412170924010.png\\",\\"https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-17/202412170925452.png\\",\\"https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-16/202412162116458.png\\",\\"https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-16/202412162237115.png\\",\\"https://cdn.jsdelivr.net/gh/zzyAJohn/Blog-Image/2024-12-16/202412162256646.png\\"],\\"dateModified\\":\\"2025-10-28T11:44:01.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.ajohn.top/article/lo7fbj1s/"}],["meta",{"property":"og:site_name","content":"AJohn Blog"}],["meta",{"property":"og:title","content":"使用 wsl2 安装深度学习环境"}],["meta",{"property":"og:description","content":"开发人员可以通过适用于 Linux 的 Windows 子系统 (WSL)，直接在 Windows 上使用 Linux 系统的一切 0.前置配置 0.1 开启CPU虚拟化 打开任务管理器，点击CPU 如果显示 虚拟化：已启用 就是默认开启了，如果显示未启用则需要通过 bios 设置开启 0.2 开启两个windows功能 在任务栏搜索 点击启用或关闭w..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img0.baidu.com/it/u=1312246635,1450695287&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-28T11:44:01.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://img0.baidu.com/it/u=1312246635,1450695287&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500"}],["meta",{"name":"twitter:image:alt","content":"使用 wsl2 安装深度学习环境"}],["meta",{"property":"article:tag","content":"WSL"}],["meta",{"property":"article:tag","content":"Deep Learning"}],["meta",{"property":"article:modified_time","content":"2025-10-28T11:44:01.000Z"}]]},"readingTime":{"minutes":3.29,"words":987},"git":{"createdTime":1734399246000,"updatedTime":1761651841000,"contributors":[{"name":"zzyAJohn","username":"zzyAJohn","email":"1833302139@qq.com","commits":8,"avatar":"https://avatars.githubusercontent.com/zzyAJohn?v=4","url":"https://github.com/zzyAJohn"}]},"autoDesc":true,"filePathRelative":"blog/深度学习/wsl.md","headers":[],"categoryList":[{"id":"8c5f70","sort":10000,"name":"深度学习"}]}');export{k as comp,r as data};
