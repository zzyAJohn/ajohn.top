import{_ as d,c as f,e as o,a as t,b as e,w as i,r,o as s}from"./app-DXjYgPyf.js";const p={},c={class:"vp-file-tree"},v={class:"vp-file-tree"},m={class:"vp-file-tree"},y={class:"vp-file-tree"},h={class:"vp-file-tree"},u={class:"vp-file-tree"};function g(_,a){const n=r("VPIcon"),l=r("FileTreeNode");return s(),f("div",null,[a[0]||(a[0]=o(`<p>本文主要介绍行人重识别（Person Re-identification, 简称 Re-ID）任务中最常用的三种公开数据集，包括 Market1501、Duke-MTMC 和 CUHK03，并说明如何将它们转换为适用于深度学习模型训练的标准文件结构。</p><p>在每个小节中，我们不仅会简要介绍数据集的来源、采集方式和样本构成，还将说明其文件组织方式、命名规则。</p><p>为了方便研究者快速上手，每个数据集介绍的最后都提供了已经整理、转换好的压缩包下载链接。 这些压缩包遵循统一的目录结构，直接解压即可用于模型训练，无需额外的预处理操作。</p><h2 id="re-id-数据集" tabindex="-1"><a class="header-anchor" href="#re-id-数据集"><span>Re-ID 数据集</span></a></h2><p>请注意，演示代码使用重新组织化的文件结构，以便代码可以无缝应用于三个数据集。</p><p>详细说明可以在<a href="https://github.com/layumi/Person_reID_baseline_pytorch#dataset--preparation" target="_blank" rel="noopener noreferrer">本网站</a>找到。</p><h3 id="market1501" tabindex="-1"><a class="header-anchor" href="#market1501"><span>Market1501</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>Market-1501 数据集是在清华大学的开放环境中，使用六台摄像机采集完成的。<br> 该数据集共标注了 1501 名行人，其中 751 名用于训练，750 名用于测试，并包含 3368 张查询图像。<br> 测试集中共有 19,732 张图像，训练集中共有 12,936 张图像。</p><p>如果您使用本数据集，请引用以下论文：</p><p>梁征*，王生进，沈立岳*，田路*，卜家豪，田奇。<br> 《Person Re-identification Meets Image Search》，技术报告，2015。（* 表示共同贡献）</p><p>该数据集仅供科研使用，请勿分发或用于商业用途。</p><p>压缩包内容如下：</p><ol><li><p><strong>bounding_box_test</strong> 文件夹<br> 包含 19,732 张用于测试的图像。</p></li><li><p><strong>bounding_box_train</strong> 文件夹<br> 包含 12,936 张用于训练的图像。</p></li><li><p><strong>query</strong> 文件夹<br> 包含 3,368 张查询图像，检索过程在 <code>bounding_box_test</code> 文件夹中进行。</p></li><li><p><strong>gt_bbox</strong> 文件夹<br> 包含 25,259 张手工标注的图像，覆盖训练集与测试集的全部 1501 名行人。<br> 该文件用于区分 “good”（有效样本）、“junk”（无效样本）和 “distractor”（干扰样本）。</p></li><li><p><strong>gt_query</strong> 文件夹<br> 对于每一张查询图像（共 3368 张），都包含对应的 “good” 和 “junk” 相关图像（即相同行人）。<br> 文件中记录了这些相关图像的索引，用于性能评估阶段。</p></li></ol><p>如有任何问题，请联系作者：liangzheng06@gmail.com</p></div><p>下载 Market1501 数据集： <a href="https://drive.google.com/file/d/0B8-rUzbwVRk0c054eEozWG9COHM/view" target="_blank" rel="noopener noreferrer">Google</a> <a href="https://pan.baidu.com/s/1ntIi2Op" target="_blank" rel="noopener noreferrer">百度</a> 或使用命令行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gdown</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --upgrade</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gdown</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> #!!important!!</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">gdown</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0B8-rUzbwVRk0c054eEozWG9COHM</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其目录结构如下：</p>`,11)),t("div",c,[e(l,{expanded:"",type:"folder",filename:"Market-1501-v15.09.15",level:0},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{expanded:"",type:"folder",filename:"bounding_box_test",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"0000_c1s1_000151_01.jpg",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0000_c1s1_000376_03.jpg",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0000_c1s1_000801_03.jpg",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"bounding_box_train",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"gt_bbox",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"gt_query",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"query",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{type:"file",filename:"readme.txt",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-text"})]),_:1})]),_:1})]),a[1]||(a[1]=o(`<p>准备工作：将具有相同 id 的图像放在一个文件夹中。您可以运行 <a href="https://github.com/layumi/Person_reID_baseline_pytorch/blob/master/prepare.py" target="_blank" rel="noopener noreferrer">prepare 文件</a> 。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> prepare.py</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>请记住将数据集路径更改为您自己的路径。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>下面是转化后的目录结构，转好的数据集我已上传至 <a href="https://drive.google.com/file/d/1EZC28EiUCDomnjZhr05LSesL8TUfUSMs/view?usp=drive_link" target="_blank" rel="noopener noreferrer">Google Drive</a>，你也可以直接下载使用。</p><p>安装 7z ：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> p7zip-full</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>解压：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">7z</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> x</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> re-id-market.7z</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div>`,4)),t("div",v,[e(l,{expanded:"",type:"folder",filename:"re-id-market",level:0},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{expanded:"",type:"folder",filename:"gallery",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"-1",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0000",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0001",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"multi-query",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0001",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0002",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0003",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"query",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0001",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0003",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0004",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"train",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0002",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0007",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0010",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"train_all",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0002",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0007",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0010",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"val",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0002",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0007",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0010",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1})]),_:1})]),a[2]||(a[2]=o('<h3 id="duke-mtmc" tabindex="-1"><a class="header-anchor" href="#duke-mtmc"><span>Duke-MTMC</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>DukeMTMC-reID 是 DukeMTMC 数据集的一个子集，用于基于图像的行人重识别（Person Re-identification），其格式与 Market-1501 数据集相同。<br> 原始 DukeMTMC 数据集包含来自 8 个不同摄像机的 85 分钟高分辨率视频，并提供了人工标注的行人边界框。</p><p>在本数据集中，从视频中每隔 120 帧裁剪一次行人图像，共得到 36,411 个带有身份标注的行人边界框。<br> 其中，1,404 个身份出现在两个以上的摄像机中，另外 408 个身份（称为干扰 ID）仅出现在一个摄像机中。<br> 研究者随机选择其中 702 个身份作为训练集，其余 702 个身份作为测试集。<br> 在测试集中，每个身份在每个摄像机中选取一张图像作为查询（query），其余图像作为图库（gallery）。</p><p>最终数据分布如下：<br> 训练集包含 702 个身份，共 16,522 张图像；<br> 查询集包含 702 个身份，共 2,228 张查询图像；<br> 图库（测试集）包含 17,661 张图像。</p><p>数据集文件结构如下：</p><table><thead><tr><th>文件夹</th><th>内容说明</th></tr></thead><tbody><tr><td>/bounding_box_test</td><td>图库图像，查询时从此文件夹中检索匹配结果。</td></tr><tr><td>/bounding_box_train</td><td>训练图像，包含 702 个不同身份的行人图像。</td></tr><tr><td>/query</td><td>查询图像，每张图像来自不同身份及不同摄像机。</td></tr></tbody></table><p>文件命名规则如下：<br> 例如文件名 “0005_c2_f0046985.jpg” 中，<br> “0005” 表示行人 ID；<br> “c2” 表示图像来自第 2 号摄像机；<br> “f0046985” 表示该帧是摄像机 2 的第 46985 帧。</p><p>使用数据集时，请遵守以下许可证：</p><ul><li>DukeMTMC-reID 的许可证请参考 <a href="https://github.com/layumi/DukeMTMC_reID_evaluation/blob/master/LICENSE_DukeMTMC-reID.txt" target="_blank" rel="noopener noreferrer">LICENSE_DukeMTMC-reID</a>。<br> 该许可证允许在规定条件下自由分享、创建和修改 DukeMTMC-reID 数据集。</li><li>同时附带原始 DukeMTMC 数据集的 <a href="https://github.com/layumi/DukeMTMC_reID_evaluation/blob/master/LICENSE_DukeMTMC.txt" target="_blank" rel="noopener noreferrer">LICENSE_DukeMTMC</a>。<br> 若要分享或改编原始 DukeMTMC 数据集，请遵守该许可证的条款。</li></ul><p>若此数据集对您的研究有帮助，请引用以下论文：</p><p>Zheng, Zhedong; Zheng, Liang; Yang, Yi.<br> 《Unlabeled Samples Generated by GAN Improve the Person Re-identification Baseline in vitro》，<br> 发表于 IEEE 国际计算机视觉大会（ICCV），2017。</p><p>Ristani, Ergys; Solera, Francesco; Zou, Roger; Cucchiara, Rita; Tomasi, Carlo.<br> 《Performance Measures and a Data Set for Multi-Target, Multi-Camera Tracking》，<br> 发表于欧洲计算机视觉大会（ECCV）多目标跟踪评测研讨会，2016。</p></div><p>DukeMTMC-reID Dataset（<a href="https://drive.google.com/open?id=1jjE85dRCMOgRtvJ5RQV9-Afs-2_5dY3O" target="_blank" rel="noopener noreferrer">GoogleDriver</a> 或（<a href="https://pan.baidu.com/s/1jS0XM7Var5nQGcbf9xUztw" target="_blank" rel="noopener noreferrer">百度云</a>密码：bhbh）），或者使用命令行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">gdown</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1jjE85dRCMOgRtvJ5RQV9-Afs-2_5dY3O</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>其目录结构如下：</p>',5)),t("div",m,[e(l,{expanded:"",type:"folder",filename:"DukeMTMC-reID",level:0},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{expanded:"",type:"folder",filename:"bounding_box_test",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"0000_c1s1_000151_01.jpg",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0000_c1s1_000376_03.jpg",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0000_c1s1_000801_03.jpg",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"bounding_box_train",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"query",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{type:"file",filename:".DS_Store",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"octicon:diff-ignored-16"})]),_:1}),e(l,{type:"file",filename:"CITATION.txt",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-text"})]),_:1}),e(l,{type:"file",filename:"LICENSE_DukeMTMC.txt",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-text"})]),_:1}),e(l,{type:"file",filename:"LICENSE_DukeMTMC-reID.txt",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-text"})]),_:1}),e(l,{type:"file",filename:"README.md",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"flat-color-icons:info"})]),_:1})]),_:1})]),a[3]||(a[3]=o('<p>准备工作：将具有相同 id 的图像放在一个文件夹中。您可以运行 <a href="https://github.com/layumi/Person_reID_baseline_pytorch/blob/master/prepare.py" target="_blank" rel="noopener noreferrer">prepare 文件</a> 。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> prepare.py</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>下面是转化后的目录结构，转好的数据集我已上传至 <a href="https://drive.google.com/file/d/1hU5po8Gsorn3u1kyji4t_CCCD9ztAJ8H/view?usp=drive_link" target="_blank" rel="noopener noreferrer">Google Drive</a>，你也可以直接下载使用。</p></div>',3)),t("div",y,[e(l,{expanded:"",type:"folder",filename:"re-id-duke",level:0},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{expanded:"",type:"folder",filename:"gallery",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0002",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0003",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0004",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"query",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0005",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0019",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0021",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"train",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0001",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0008",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0013",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"train_all",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0001",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0008",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0013",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"val",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0001",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0008",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0013",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1})]),_:1})]),a[4]||(a[4]=o('<h3 id="cuhk03" tabindex="-1"><a class="header-anchor" href="#cuhk03"><span>CUHK03</span></a></h3><ol><li><p>经典划分</p><p>2014年，论文 <a href="https://openaccess.thecvf.com/content_cvpr_2014/html/Li_DeepReID_Deep_Filter_2014_CVPR_paper.html" target="_blank" rel="noopener noreferrer">DeepRelD: Deep Fiter Pairing Neural Network for Person Re-ldentification</a> 提出了 CUHK03 数据集，文中说数据集共包含 1360 个行人，训练集 1160 个行人，验证集 100 个行人，测试集 100 个行人。实验一共重复执行了 20 次上述随机划分。数据集划分在论文中被称作训练/测试协议，这种测试协议是 single-shot setting，即每个行人在 gallery 里只有一张图片。</p></li><li><p>新的划分</p><p>2017年，论文 <a href="https://openaccess.thecvf.com/content_cvpr_2017/html/Zhong_Re-Ranking_Person_Re-Identification_CVPR_2017_paper.html" target="_blank" rel="noopener noreferrer">Re-ranking person re-identification with k-reciprocal encoding</a> 针对 CUHK03 数据集提出了新的训练/测试协议(数据集划分方法)。在新的测试协议下，数据集中共包含 1467 个行人。其中，训练集中有 767 个行人，测试集中有 700 个行人。从所有摄像头中，为测试集中的每个行人随机选取一张图片，构成 query 集。测试集剩下的行人图片构成 galery 集。因此，这是一个multi-shot 的测试协议，每个行人在 galery 集中有多张图片，不同于旧的测试协议，新的测试协议只执行一次训练集,测试集划分。</p></li></ol><p>CUHK03 数据集官网：<a href="https://www.ee.cuhk.edu.hk/~xgwang/CUHK_identification.html#!" target="_blank" rel="noopener noreferrer">CUHK Person Re-identification Datasets</a></p><p>我们遵循 <a href="https://openaccess.thecvf.com/content_cvpr_2017/html/Zhong_Re-Ranking_Person_Re-Identification_CVPR_2017_paper.html" target="_blank" rel="noopener noreferrer">Re-ranking person re-identification with k-reciprocal encoding</a> 中描述的设置并使用 <mark>detected</mark> 的版本进行评估。</p><p>其目录结构如下：</p>',5)),t("div",h,[e(l,{expanded:"",type:"folder",filename:"cuhk03-np",level:0},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{expanded:"",type:"folder",filename:"detected",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{expanded:"",type:"folder",filename:"bounding_box_test",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"0003_c1_21.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0003_c1_23.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0003_c1_24.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"...",level:3})]),_:1}),e(l,{type:"folder",filename:"bounding_box_train",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"...",level:3})]),_:1}),e(l,{type:"folder",filename:"query",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"...",level:3})]),_:1})]),_:1}),e(l,{type:"folder",filename:"labeled",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:2})]),_:1})]),_:1})]),a[5]||(a[5]=o('<p>准备工作：将具有相同 id 的图像放在一个文件夹中。您可以运行 <a href="https://github.com/layumi/Person_reID_baseline_pytorch/blob/master/prepare.py" target="_blank" rel="noopener noreferrer">prepare 文件</a> 。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>注意：CUHK 数据集是 png 文件，因此要修改 prepare.py 中的 jpg 后缀为 png 。</p></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> prepare.py</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>下面是转化后的目录结构，转好的数据集我已上传至 <a href="https://drive.google.com/file/d/1EckXBMkCuKlsYQcTLXnYOYm6FzgxiGR1/view?usp=drive_link" target="_blank" rel="noopener noreferrer">Google Drive</a>，你也可以直接下载使用。</p></div>',4)),t("div",u,[e(l,{expanded:"",type:"folder",filename:"re-id-chuk",level:0},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{expanded:"",type:"folder",filename:"gallery",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{expanded:"",type:"folder",filename:"0003",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"0003_c1_21.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0003_c1_23.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0003_c1_24.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0003_c1_25.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0003_c1_26.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0003_c1_28.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1}),e(l,{type:"file",filename:"0003_c1_29.png",level:3},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:file-type-image"})]),_:1})]),_:1}),e(l,{type:"folder",filename:"0006",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0007",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"query",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0003",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0006",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0007",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"train",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0001",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0002",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0004",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"train_all",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0001",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0002",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0004",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1}),e(l,{expanded:"",type:"folder",filename:"val",level:1},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"folder",filename:"0001",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0002",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"folder",filename:"0004",level:2},{icon:i(()=>[e(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),default:i(()=>[e(l,{type:"file",filename:"…",level:3})]),_:1}),e(l,{type:"file",filename:"...",level:2})]),_:1})]),_:1})])])}const b=d(p,[["render",g]]),D=JSON.parse('{"path":"/article/bp3shfj0/","title":"行人重识别数据集","lang":"zh-CN","frontmatter":{"title":"行人重识别数据集","createTime":"2025/10/13 14:55:56","permalink":"/article/bp3shfj0/","tags":["Re-ID","Deep Learning"],"cover":"https://img2.baidu.com/it/u=1172515507,1126612955&fm=253&fmt=auto&app=138&f=PNG?w=500&h=295","description":"本文主要介绍行人重识别（Person Re-identification, 简称 Re-ID）任务中最常用的三种公开数据集，包括 Market1501、Duke-MTMC 和 CUHK03，并说明如何将它们转换为适用于深度学习模型训练的标准文件结构。 在每个小节中，我们不仅会简要介绍数据集的来源、采集方式和样本构成，还将说明其文件组织方式、命名规则。 ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"行人重识别数据集\\",\\"image\\":[\\"https://img2.baidu.com/it/u=1172515507,1126612955&fm=253&fmt=auto&app=138&f=PNG?w=500&h=295\\"],\\"dateModified\\":\\"2025-10-28T11:44:01.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.ajohn.top/article/bp3shfj0/"}],["meta",{"property":"og:site_name","content":"AJohn Blog"}],["meta",{"property":"og:title","content":"行人重识别数据集"}],["meta",{"property":"og:description","content":"本文主要介绍行人重识别（Person Re-identification, 简称 Re-ID）任务中最常用的三种公开数据集，包括 Market1501、Duke-MTMC 和 CUHK03，并说明如何将它们转换为适用于深度学习模型训练的标准文件结构。 在每个小节中，我们不仅会简要介绍数据集的来源、采集方式和样本构成，还将说明其文件组织方式、命名规则。 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img2.baidu.com/it/u=1172515507,1126612955&fm=253&fmt=auto&app=138&f=PNG?w=500&h=295"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-28T11:44:01.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://img2.baidu.com/it/u=1172515507,1126612955&fm=253&fmt=auto&app=138&f=PNG?w=500&h=295"}],["meta",{"name":"twitter:image:alt","content":"行人重识别数据集"}],["meta",{"property":"article:tag","content":"Deep Learning"}],["meta",{"property":"article:tag","content":"Re-ID"}],["meta",{"property":"article:modified_time","content":"2025-10-28T11:44:01.000Z"}]]},"readingTime":{"minutes":7.01,"words":2103},"git":{"createdTime":1760356742000,"updatedTime":1761651841000,"contributors":[{"name":"zzyAJohn","username":"zzyAJohn","email":"1833302139@qq.com","commits":2,"avatar":"https://avatars.githubusercontent.com/zzyAJohn?v=4","url":"https://github.com/zzyAJohn"}]},"autoDesc":true,"filePathRelative":"blog/深度学习/re-id-dataset.md","headers":[],"categoryList":[{"id":"8c5f70","sort":10000,"name":"深度学习"}]}');export{b as comp,D as data};
